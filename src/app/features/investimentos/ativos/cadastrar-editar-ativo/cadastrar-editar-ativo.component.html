<ion-header>
  <ion-toolbar>
    <ion-title *ngIf="!isEditMode">Criar Ativo</ion-title>
    <ion-title *ngIf="isEditMode">Editar Ativo</ion-title>
  </ion-toolbar>
</ion-header>

<!-- Loading Spinner -->
<div *ngIf="isLoading" class="loading-spinner">
  <ion-spinner name="crescent"></ion-spinner>
  <p>Carregando...</p>
</div>

<ion-content [fullscreen]="true" *ngIf="!isLoading">
  <form [formGroup]="ativoForm" (ngSubmit)="onSubmit()">
    <!-- Seleção de Ativo -->
    <ion-item>
      <ion-label position="floating">Selecione o Ativo</ion-label>
      <ion-select formControlName="id_ativo" interface="action-sheet">
        <ion-select-option *ngFor="let ativo of ativosInvestimentosSelect" [value]="ativo.id">
          {{ ativo.desc_ativo }}
        </ion-select-option>
      </ion-select>
    </ion-item>

    <!-- Nota do Ativo -->
    <ion-item>
      <ion-label position="floating">Nota do Ativo</ion-label>
      <ion-input formControlName="nota_ativo" type="number"></ion-input>
    </ion-item>

    <!-- Quantidade na Carteira -->
    <ion-item>
      <ion-label position="floating">Quantidade na Carteira</ion-label>
      <ion-input formControlName="qtd_cateira" type="number"></ion-input>
    </ion-item>

    <!-- Preço Médio -->
    <ion-item>
      <ion-label position="floating">Preço Médio</ion-label>
      <ion-input formControlName="preco_medio" type="number" step="0.01"></ion-input>
    </ion-item>

    <!-- Botão para Salvar -->
    <ion-button expand="block" type="submit" [disabled]="ativoForm.invalid">
      {{ isEditMode ? 'Atualizar' : 'Criar' }}
    </ion-button>
  </form>
</ion-content>
